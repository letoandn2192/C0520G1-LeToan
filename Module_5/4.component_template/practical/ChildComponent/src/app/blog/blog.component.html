<h2>Simple Blog</h2>

<form [formGroup]="postForm" (ngSubmit)="onSubmit()">
  <div>
    <label>
      Title
      <br>
      <input type="text" formControlName="blogTitle">
    </label>
  </div>
  <div *ngIf="postForm.get('blogTitle').invalid && postForm.get('blogTitle').touched" style="color: red">
    Title is required and min length is 10
  </div>
  <div>
    <label>
      body
      <br>
      <textarea formControlName="blogContent" cols="30" rows="10"></textarea>
    </label>
  </div>
  <div *ngIf="postForm.get('blogContent').invalid && postForm.get('blogContent').touched" style="color: red">
    Body is required and min length is 10
  </div>
  <div>
    <label>
      Type
      <br>
    <select formControlName="blogCategory">
      <option [ngValue]="null" disabled>Choose category</option>
      <option *ngFor="let category of categoryList" [ngValue]="category">{{category.categoryName}}</option>
    </select>
    </label>
  </div>
  <div *ngIf="postForm.get('blogCategory').invalid && postForm.get('blogCategory').touched" style="color: red">
    Category is required
  </div>
  <button type="submit">Submit</button>
</form>

<table class="table">
  <thead>
  <tr>
    <th>Id</th>
    <th>title</th>
    <th>Content</th>
    <th>Date Created</th>
    <th>Time Created</th>
    <th>Action</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let post of postList; index as i">
    <td scope="row"><a [routerLink]="['/blog/view', post.blogId]">{{post.blogId}}</a></td>
    <td>{{post.blogTitle}}</td>
    <td>{{post.blogContent}}</td>
    <td>{{post.blogCreateDate | date:'dd/MM/yyyy'}}</td>
    <td>{{post.blogCreateTime}}</td>
    <td>{{post.blogCategory.categoryName}}</td>
    <td>
      <a [routerLink]="['/blog', post.blogId, 'edit']">Edit</a>

      <button (click)="deletePost(i)">Delete</button>
    </td>
  </tr>
  </tbody>
</table>

<!--<ul>-->
<!--  <li *ngFor="let post of postList; index as i">-->
<!--    <h3>-->
<!--      <a [routerLink]="['/blog', 'view', post.blogId]">-->
<!--        Post Id: {{post.blogId}} - {{post.blogTitle}}-->
<!--      </a>-->
<!--    </h3>-->
<!--    <a [routerLink]="['/blog', post.blogId, 'edit']">Edit</a>-->

<!--    <button (click)="deletePost(i)">Delete</button>-->
<!--  </li>-->
<!--</ul>-->
